<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AppWish - ã‚¢ã‚¤ãƒ‡ã‚¢æŠ•ç¨¿</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"], textarea, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        textarea {
            height: 100px;
            resize: vertical;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .back-link {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #007bff;
            text-decoration: none;
        }
        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ã‚¢ãƒ—ãƒªã‚¢ã‚¤ãƒ‡ã‚¢æŠ•ç¨¿</h1>
        
        <form th:action="@{/ideas/submit}" method="post" th:object="${idea}">
            <div class="form-group">
                <label for="title">ã‚¿ã‚¤ãƒˆãƒ«ï¼š</label>
                <input type="text" id="title" th:field="*{title}" required>
            </div>

            <div class="form-group">
                <label for="category">ã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼š</label>
                <select id="category" th:field="*{category}" required>
                    <option value="">ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                    <option th:each="cat : ${categories}" th:value="${cat}" th:text="${cat.displayName}"></option>
                </select>
            </div>

            <div class="form-group">
                <label for="input-type">å…¥åŠ›æ–¹æ³•ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼š</label>
                <select id="input-type" name="inputType" onchange="toggleInputMethod()">
                    <option value="structured">æ§‹é€ åŒ–ãƒ•ã‚©ãƒ¼ãƒ </option>
                    <option value="freeform">è‡ªç”±è¨˜è¿°</option>
                    <option value="both" selected>ä¸¡æ–¹</option>
                </select>
            </div>

            <div id="structured-form">
                <div class="form-group">
                    <label for="ideaSeed">ğŸŒ± ã‚¢ã‚¤ãƒ‡ã‚¢ã®ç¨®</label>
                    <textarea id="ideaSeed" th:field="*{ideaSeed}" placeholder="ã‚ãªãŸã®æ—¥å¸¸ã‚„ä»•äº‹ã§ã€Œã“ã‚“ãªã‚¢ãƒ—ãƒªãŒã‚ã£ãŸã‚‰ã„ã„ã®ã«ã€ã¨æ€ã£ãŸã“ã¨ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚"></textarea>
                </div>
                <div class="form-group">
                    <label for="problem">ğŸ” èª²é¡Œã®ç™ºè¦‹</label>
                    <textarea id="problem" th:field="*{problem}" placeholder="æœ€è¿‘ã€ä¸ä¾¿ã ãªã¨æ„Ÿã˜ãŸã“ã¨ã‚„è§£æ±ºã—ãŸã„å•é¡Œã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚"></textarea>
                </div>
                <div class="form-group">
                    <label for="idealSituation">ğŸŒˆ ç†æƒ³ã®çŠ¶æ³</label>
                    <textarea id="idealSituation" th:field="*{idealSituation}" placeholder="ãã®å•é¡ŒãŒè§£æ±ºã•ã‚ŒãŸã‚‰ã€ã‚ãªãŸã®ç”Ÿæ´»ã¯ã©ã†å¤‰ã‚ã‚Šã¾ã™ã‹ï¼Ÿ"></textarea>
                </div>
                <div class="form-group">
                    <label for="currentSolution">ğŸ› ï¸ ç¾åœ¨ã®å¯¾å‡¦æ³•</label>
                    <textarea id="currentSolution" th:field="*{currentSolution}" placeholder="ãã®å•é¡Œã«å¯¾ã—ã¦ã€ä»Šã¯ã©ã®ã‚ˆã†ã«å¯¾å‡¦ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ"></textarea>
                </div>
                <div class="form-group">
                    <label for="userStory">ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</label>
                    <textarea id="userStory" th:field="*{userStory}" placeholder="ã“ã®ã‚¢ãƒ—ãƒªã‚’ä½¿ã†äººã¯ã€ã©ã‚“ãªå ´é¢ã§ã©ã®ã‚ˆã†ã«ä½¿ã†ã¨æ€ã„ã¾ã™ã‹ï¼Ÿå…·ä½“ä¾‹ã‚’æŒ™ã’ã¦ãã ã•ã„ã€‚"></textarea>
                </div>
                <div class="form-group">
                    <label for="emotionalConnection">ğŸ˜Š æ„Ÿæƒ…çš„ãªã¤ãªãŒã‚Š</label>
                    <textarea id="emotionalConnection" th:field="*{emotionalConnection}" placeholder="ã“ã®ã‚¢ãƒ—ãƒªãŒã‚ã£ãŸã‚‰ã€ã©ã‚“ãªæ°—æŒã¡ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ"></textarea>
                </div>
                <div class="form-group">
                    <label>â­ é‡è¦æ©Ÿèƒ½ï¼ˆ3ã¤ã¾ã§ï¼‰</label>
                    <input type="text" th:field="*{keyFeatures[0]}" placeholder="é‡è¦ãªæ©Ÿèƒ½1">
                    <input type="text" th:field="*{keyFeatures[1]}" placeholder="é‡è¦ãªæ©Ÿèƒ½2">
                    <input type="text" th:field="*{keyFeatures[2]}" placeholder="é‡è¦ãªæ©Ÿèƒ½3">
                </div>
                <div class="form-group">
                    <label for="usabilityPoint">ğŸ”§ ä½¿ã„ã‚„ã™ã•ã®ãƒã‚¤ãƒ³ãƒˆ</label>
                    <input type="text" id="usabilityPoint" th:field="*{usabilityPoint}" placeholder="ã“ã®ã‚¢ãƒ—ãƒªã‚’ä½¿ã†ä¸Šã§ã€æœ€ã‚‚é‡è¦ãªä½¿ã„ã‚„ã™ã•ã®ãƒã‚¤ãƒ³ãƒˆã¯ä½•ã§ã™ã‹ï¼Ÿ">
                </div>
                <div class="form-group">
                    <label for="futurePossibility">ğŸš€ å°†æ¥ã®å¯èƒ½æ€§</label>
                    <textarea id="futurePossibility" th:field="*{futurePossibility}" placeholder="ã“ã®ã‚¢ãƒ—ãƒªãŒæˆåŠŸã—ãŸã‚‰ã€å°†æ¥ã©ã‚“ãªæ©Ÿèƒ½ã‚„ä½¿ã„æ–¹ãŒè¿½åŠ ã•ã‚Œã‚‹ã¨é¢ç™½ã„ã§ã™ã‹ï¼Ÿ"></textarea>
                </div>
                <div class="form-group">
                    <label for="appealPoint">ğŸ“¢ é­…åŠ›çš„ãªãƒã‚¤ãƒ³ãƒˆ</label>
                    <input type="text" id="appealPoint" th:field="*{appealPoint}" placeholder="ã“ã®ã‚¢ãƒ—ãƒªã®é­…åŠ›ã‚’ä¸€è¨€ã§è¡¨ã™ã¨ã—ãŸã‚‰ï¼Ÿ">
                </div>
            </div>

            <div id="freeform-input" style="display:none;">
                <div class="form-group">
                    <label for="freeformIdea">è‡ªç”±ã«ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ï¼š</label>
                    <textarea id="freeformIdea" th:field="*{freeformIdea}" rows="10" placeholder="ã‚ãªãŸã®ã‚¢ãƒ—ãƒªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è‡ªç”±ã«è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚"></textarea>
                </div>
            </div>

            <button type="submit">ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æŠ•ç¨¿ã™ã‚‹</button>
        </form>
        <a th:href="@{/ideas}" class="back-link">ã‚¢ã‚¤ãƒ‡ã‚¢ä¸€è¦§ã«æˆ»ã‚‹</a>
    </div>

    <script>
        function toggleInputMethod() {
            var inputType = document.getElementById('input-type').value;
            var structuredForm = document.getElementById('structured-form');
            var freeformInput = document.getElementById('freeform-input');
            
            switch(inputType) {
                case 'structured':
                    structuredForm.style.display = 'block';
                    freeformInput.style.display = 'none';
                    break;
                case 'freeform':
                    structuredForm.style.display = 'none';
                    freeformInput.style.display = 'block';
                    break;
                case 'both':
                    structuredForm.style.display = 'block';
                    freeformInput.style.display = 'block';
                    break;
            }
        }
    </script>
</body>
</html>